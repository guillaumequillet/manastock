{% extends "base.html.twig" %}
{% block title %}Liste des articles{% endblock %}
{% block body %}
  <h1>Liste des Articles</h1>
  <div class="table-responsive">
    <table class="table table-striped">
      <caption>Liste des Articles</caption>
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Code</th>
          <th scope="col">Description</th>
          <th scope="col">Catégories</th>
          <th scope="col">Propriétaire</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for article in articles %}
          <tr>
            <th scope="row">{{ article.id }}</th>
            <td>{{ article.code }}</td>
            <td>{{ article.description }}</td>
            <td>
              {% for category in article.categories %}
                {{ category.name }}{% if not loop.last %} |{% endif %}
              {% endfor %}
            </td>
            <td>{{ article.owner.name }}</td>
            <td>
              <a href="index.php?controller=article&amp;action=edit&amp;id={{ article.id }}" class="btn btn-secondary">Modifier</a>
              <a href="index.php?controller=article&amp;action=delete&amp;id={{ article.id }}" class="btn btn-danger" onclick="return confirm('Etes-vous sûr(e) de vouloir supprimer cet article ?');">Supprimer</a> 
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  <p>
    <a href="index.php?controller=article&amp;action=create" class="btn btn-primary">Créer un nouvel Article</a>
  </p>
  <p>
    Page: {{ page }}
  </p>
{% endblock %}